<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Life Hub - Cleaning Tab</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
            min-height: 100vh; 
            padding: 20px; 
            color: #333; 
        }
        
        .container { 
            max-width: 1400px; 
            margin: 0 auto; 
            background: white; 
            border-radius: 20px; 
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3); 
            overflow: hidden; 
        }
        
        header { 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
            color: white; 
            padding: 30px; 
            text-align: center; 
        }
        
        header h1 { font-size: 2.5em; margin-bottom: 10px; }
        header p { font-size: 1.2em; opacity: 0.9; }
        
        .content { padding: 30px; }
        
        .sub-tabs { 
            display: flex; 
            gap: 10px; 
            margin-bottom: 30px; 
            flex-wrap: wrap; 
        }
        
        .sub-tab-button { 
            padding: 12px 24px; 
            background: #f8f9fa; 
            border: 2px solid #e0e0e0; 
            border-radius: 25px; 
            cursor: pointer; 
            font-size: 14px; 
            font-weight: 600; 
            color: #666; 
            transition: all 0.3s; 
        }
        
        .sub-tab-button:hover { 
            background: #e9ecef; 
            border-color: #667eea; 
        }
        
        .sub-tab-button.active { 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
            color: white; 
            border-color: transparent; 
        }
        
        .sub-tab-content { 
            display: none; 
            animation: fadeIn 0.3s; 
        }
        
        .sub-tab-content.active { display: block; }
        
        @keyframes fadeIn { 
            from { opacity: 0; transform: translateY(10px); } 
            to { opacity: 1; transform: translateY(0); } 
        }
        
        /* WHY CLEAN SECTION */
        .why-clean-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); 
            gap: 20px; 
            margin-top: 20px; 
        }
        
        .benefit-card { 
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%); 
            border: 2px solid #667eea; 
            border-radius: 15px; 
            padding: 25px; 
            text-align: center; 
            transition: all 0.3s; 
        }
        
        .benefit-card:hover { 
            transform: translateY(-5px); 
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3); 
        }
        
        .benefit-icon { font-size: 3em; margin-bottom: 15px; }
        .benefit-card h3 { color: #667eea; margin-bottom: 10px; font-size: 1.3em; }
        .benefit-card p { color: #666; line-height: 1.6; }
        
        /* JOB CARDS SECTION */
        .filters { 
            display: flex; 
            gap: 15px; 
            margin-bottom: 25px; 
            flex-wrap: wrap; 
            padding: 20px; 
            background: #f8f9fa; 
            border-radius: 12px; 
        }
        
        .filter-group { 
            display: flex; 
            flex-direction: column; 
            gap: 8px; 
        }
        
        .filter-group label { 
            font-weight: 600; 
            color: #667eea; 
            font-size: 14px; 
        }
        
        .filter-buttons { 
            display: flex; 
            gap: 8px; 
            flex-wrap: wrap; 
        }
        
        .filter-btn { 
            padding: 8px 16px; 
            background: white; 
            border: 2px solid #e0e0e0; 
            border-radius: 20px; 
            cursor: pointer; 
            font-size: 13px; 
            transition: all 0.3s; 
        }
        
        .filter-btn:hover { 
            border-color: #667eea; 
            color: #667eea; 
        }
        
        .filter-btn.active { 
            background: #667eea; 
            color: white; 
            border-color: #667eea; 
        }
        
        .jobs-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); 
            gap: 20px; 
        }
        
        .job-card { 
            background: white; 
            border: 2px solid #e0e0e0; 
            border-radius: 12px; 
            padding: 20px; 
            transition: all 0.3s; 
        }
        
        .job-card:hover { 
            transform: translateY(-5px); 
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.2); 
            border-color: #667eea; 
        }
        
        .job-card h3 { color: #667eea; margin-bottom: 10px; font-size: 1.2em; }
        
        .job-meta { 
            display: flex; 
            gap: 10px; 
            flex-wrap: wrap; 
            margin: 10px 0; 
        }
        
        .job-tag { 
            padding: 4px 12px; 
            border-radius: 12px; 
            font-size: 12px; 
            font-weight: 600; 
        }
        
        .job-tag.room { background: #e3f2fd; color: #1976d2; }
        .job-tag.time { background: #fff3cd; color: #856404; }
        .job-tag.daily { background: #4fc3f7; color: white; }
        .job-tag.weekly { background: #f06292; color: white; }
        .job-tag.monthly { background: #4caf50; color: white; }
        
        .job-description { 
            color: #666; 
            font-size: 0.9em; 
            margin: 10px 0; 
            line-height: 1.5; 
        }
        
        .add-btn { 
            width: 100%; 
            padding: 12px; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
            color: white; 
            border: none; 
            border-radius: 8px; 
            cursor: pointer; 
            font-weight: 600; 
            transition: all 0.3s; 
            margin-top: 10px; 
        }
        
        .add-btn:hover { 
            transform: scale(1.05); 
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4); 
        }
        
        /* MY ROUTINE SECTION */
        .routine-controls { 
            display: flex; 
            gap: 15px; 
            margin-bottom: 20px; 
            flex-wrap: wrap; 
            align-items: center; 
        }
        
        .view-toggle { 
            display: flex; 
            gap: 10px; 
            flex-wrap: wrap;
        }
        
        .toggle-btn { 
            padding: 10px 20px; 
            background: #f8f9fa; 
            border: 2px solid #e0e0e0; 
            border-radius: 8px; 
            cursor: pointer; 
            font-weight: 600; 
            transition: all 0.3s; 
        }
        
        .toggle-btn.active { 
            background: #667eea; 
            color: white; 
            border-color: #667eea; 
        }
        
        .action-buttons {
            display: flex;
            gap: 10px;
            margin-left: auto;
            flex-wrap: wrap;
        }
        
        .print-btn {
            padding: 10px 20px;
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .print-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(40, 167, 69, 0.4);
        }
        
        .clear-btn {
            padding: 10px 20px;
            background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .clear-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(220, 53, 69, 0.4);
        }
        
        .routine-view { margin-top: 20px; }
        
        .day-section { 
            background: #f8f9fa; 
            border-radius: 12px; 
            padding: 20px; 
            margin-bottom: 20px; 
        }
        
        .day-section h3 { 
            color: #667eea; 
            margin-bottom: 15px; 
            font-size: 1.3em; 
        }
        
        .task-list { 
            display: flex; 
            flex-direction: column; 
            gap: 10px; 
        }
        
        .task-item { 
            display: flex; 
            align-items: center; 
            gap: 15px; 
            padding: 15px; 
            border-radius: 10px; 
            transition: all 0.3s; 
        }
        
        .task-item.daily { background: #4fc3f7; color: white; }
        .task-item.weekly { background: #f06292; color: white; }
        .task-item.monthly { background: #4caf50; color: white; }
        .task-item.completed { opacity: 0.6; }
        .task-item.completed .task-details { text-decoration: line-through; }
        
        .task-checkbox { 
            width: 24px; 
            height: 24px; 
            cursor: pointer; 
            flex-shrink: 0; 
        }
        
        .task-details { flex: 1; }
        .task-details h4 { margin-bottom: 5px; font-size: 1em; }
        .task-details p { font-size: 0.85em; opacity: 0.9; }
        
        .remove-btn { 
            padding: 8px 16px; 
            background: rgba(255, 255, 255, 0.3); 
            border: 2px solid rgba(255, 255, 255, 0.5); 
            color: white; 
            border-radius: 8px; 
            cursor: pointer; 
            font-weight: 600; 
            transition: all 0.3s; 
            flex-shrink: 0; 
        }
        
        .remove-btn:hover { 
            background: rgba(255, 255, 255, 0.5); 
            transform: scale(1.05); 
        }
        
        .week-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); 
            gap: 15px; 
        }
        
        .week-cell { 
            background: white; 
            border: 2px solid #e0e0e0; 
            border-radius: 10px; 
            padding: 15px; 
            min-height: 120px; 
        }
        
        .week-cell h4 { 
            color: #667eea; 
            margin-bottom: 10px; 
            font-size: 0.9em; 
            text-align: center; 
        }
        
        .week-task { 
            padding: 8px; 
            margin-bottom: 8px; 
            border-radius: 6px; 
            font-size: 0.85em; 
        }
        
        .empty-state { 
            text-align: center; 
            padding: 60px 20px; 
            color: #999; 
        }
        
        .empty-state-icon { font-size: 4em; margin-bottom: 20px; }
        .empty-state h3 { color: #667eea; margin-bottom: 10px; }
        
        /* MODAL */
        .modal { 
            display: none; 
            position: fixed; 
            top: 0; 
            left: 0; 
            right: 0; 
            bottom: 0; 
            background: rgba(0, 0, 0, 0.7); 
            z-index: 1000; 
            align-items: center; 
            justify-content: center; 
        }
        
        .modal.active { display: flex; }
        
        .modal-content { 
            background: white; 
            border-radius: 20px; 
            padding: 30px; 
            max-width: 500px; 
            width: 90%; 
            max-height: 80vh; 
            overflow-y: auto; 
        }
        
        .modal-header { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            margin-bottom: 20px; 
        }
        
        .modal-header h2 { color: #667eea; }
        
        .close-modal { 
            background: none; 
            border: none; 
            font-size: 30px; 
            cursor: pointer; 
            color: #999; 
            line-height: 1; 
        }
        
        .close-modal:hover { color: #667eea; }
        
        .modal-section { margin: 20px 0; }
        
        .modal-section label { 
            display: block; 
            font-weight: 600; 
            color: #667eea; 
            margin-bottom: 10px; 
        }
        
        .day-selector { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); 
            gap: 10px; 
        }
        
        .day-btn { 
            padding: 12px; 
            background: #f8f9fa; 
            border: 2px solid #e0e0e0; 
            border-radius: 8px; 
            cursor: pointer; 
            font-weight: 600; 
            text-align: center; 
            transition: all 0.3s; 
        }
        
        .day-btn:hover { border-color: #667eea; }
        
        .day-btn.selected { 
            background: #667eea; 
            color: white; 
            border-color: #667eea; 
        }
        
        .week-selector { 
            display: grid; 
            grid-template-columns: repeat(2, 1fr); 
            gap: 10px; 
        }
        
        .confirm-btn { 
            width: 100%; 
            padding: 15px; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
            color: white; 
            border: none; 
            border-radius: 10px; 
            cursor: pointer; 
            font-weight: 600; 
            font-size: 16px; 
            margin-top: 20px; 
            transition: all 0.3s; 
        }
        
        .confirm-btn:hover { 
            transform: scale(1.02); 
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4); 
        }
        
        /* BANNER */
        .banner { 
            position: fixed; 
            top: 20px; 
            right: 20px; 
            padding: 15px 25px; 
            border-radius: 10px; 
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3); 
            z-index: 2000; 
            display: none; 
            animation: slideIn 0.3s, slideOut 0.3s 2.7s; 
            font-weight: 600; 
        }
        
        .banner.success { 
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%); 
            color: white; 
        }
        
        .banner.error { 
            background: linear-gradient(135deg, #dc3545 0%, #c82333 100%); 
            color: white; 
        }
        
        .banner.show { display: block; }
        
        @keyframes slideIn { 
            from { transform: translateX(400px); opacity: 0; } 
            to { transform: translateX(0); opacity: 1; } 
        }
        
        @keyframes slideOut { 
            from { transform: translateX(0); opacity: 1; } 
            to { transform: translateX(400px); opacity: 0; } 
        }
        
        /* FIREWORK CELEBRATION */
        .firework-container { 
            position: fixed; 
            top: 0; 
            left: 0; 
            right: 0; 
            bottom: 0; 
            pointer-events: none; 
            z-index: 3000; 
            display: none; 
        }
        
        .firework-container.active { display: block; }
        
        .firework { 
            position: absolute; 
            left: 50%; 
            top: 50%; 
            width: 4px; 
            height: 4px; 
            background: white; 
            border-radius: 50%; 
            animation: explode 2s ease-out forwards; 
        }
        
        @keyframes explode {
            0% { transform: translate(0, 0) scale(1); opacity: 1; }
            100% { transform: translate(var(--x), var(--y)) scale(0); opacity: 0; }
        }
        
        /* PRINT STYLES */
        @media print {
            body {
                background: white;
                padding: 0;
            }
            
            .container {
                box-shadow: none;
                border-radius: 0;
            }
            
            .sub-tabs, .routine-controls, .print-btn, .clear-btn, .remove-btn {
                display: none !important;
            }
            
            .task-item {
                page-break-inside: avoid;
            }
            
            .day-section {
                page-break-inside: avoid;
            }
        }
        
        @media (max-width: 768px) {
            header h1 { font-size: 1.8em; }
            .jobs-grid, .why-clean-grid { grid-template-columns: 1fr; }
            .action-buttons {
                margin-left: 0;
                width: 100%;
            }
            .print-btn, .clear-btn {
                flex: 1;
            }
        }
    </style>
</head>
<body>
    <div class="banner" id="banner"></div>
    <div class="firework-container" id="firework-container"></div>
    
    <div class="container">
        <header>
            <h1>üßπ Cleaning Tab</h1>
            <p>Keep your space fresh ‚Ä¢ Build healthy habits ‚Ä¢ Feel amazing!</p>
        </header>
        
        <div class="content">
            <div class="sub-tabs">
                <button class="sub-tab-button active" onclick="switchSubTab('why-clean')">Why Clean</button>
                <button class="sub-tab-button" onclick="switchSubTab('job-cards')">Job Cards</button>
                <button class="sub-tab-button" onclick="switchSubTab('my-routine')">My Routine</button>
            </div>
            
            <!-- WHY CLEAN TAB -->
            <div id="why-clean" class="sub-tab-content active">
                <div class="why-clean-grid">
                    <div class="benefit-card">
                        <div class="benefit-icon">üßº</div>
                        <h3>Hygiene & Health</h3>
                        <p>A clean space means fewer germs, less sickness, and better overall health. Your immune system will thank you!</p>
                    </div>
                    <div class="benefit-card">
                        <div class="benefit-icon">üòå</div>
                        <h3>Relaxing Environment</h3>
                        <p>Coming home to a tidy space is like a mental reset. Less clutter = less stress = more chill vibes.</p>
                    </div>
                    <div class="benefit-card">
                        <div class="benefit-icon">‚ú®</div>
                        <h3>Feel Good Factor</h3>
                        <p>Clean space, clear mind, confidence boost! Plus, you'll never be embarrassed when friends drop by unexpectedly.</p>
                    </div>
                    <div class="benefit-card">
                        <div class="benefit-icon">üìö</div>
                        <h3>Better for Studying</h3>
                        <p>Research shows a tidy environment helps you focus better and be more productive. Ace those exams!</p>
                    </div>
                    <div class="benefit-card">
                        <div class="benefit-icon">üíã</div>
                        <h3>Attractive & Confident</h3>
                        <p>Let's be real: clean is sexy! A tidy space shows you've got your life together, and confidence is magnetic.</p>
                    </div>
                </div>
            </div>
            
            <!-- JOB CARDS TAB -->
            <div id="job-cards" class="sub-tab-content">
                <div class="filters">
                    <div class="filter-group">
                        <label>Filter by Room:</label>
                        <div class="filter-buttons">
                            <button class="filter-btn active" data-room="all" onclick="filterByRoom('all')">All Rooms</button>
                            <button class="filter-btn" data-room="Kitchen" onclick="filterByRoom('Kitchen')">üç≥ Kitchen</button>
                            <button class="filter-btn" data-room="Bathroom" onclick="filterByRoom('Bathroom')">üöø Bathroom</button>
                            <button class="filter-btn" data-room="Bedroom" onclick="filterByRoom('Bedroom')">üõèÔ∏è Bedroom</button>
                            <button class="filter-btn" data-room="Living Room" onclick="filterByRoom('Living Room')">üõãÔ∏è Living Room</button>
                            <button class="filter-btn" data-room="General" onclick="filterByRoom('General')">üè† General</button>
                        </div>
                    </div>
                </div>
                <div id="jobs-grid" class="jobs-grid"></div>
            </div>
            
            <!-- MY ROUTINE TAB -->
            <div id="my-routine" class="sub-tab-content">
                <div class="routine-controls">
                    <div class="view-toggle">
                        <button class="toggle-btn active" onclick="switchRoutineView('today')">Today Only</button>
                        <button class="toggle-btn" onclick="switchRoutineView('week')">Full Week</button>
                        <button class="toggle-btn" onclick="switchRoutineView('4week')">4-Week View</button>
                    </div>
                    <div class="action-buttons">
                        <button class="print-btn" onclick="printSchedule()">üñ®Ô∏è Print Schedule</button>
                        <button class="clear-btn" onclick="confirmClearData()">üóëÔ∏è Clear All Data</button>
                    </div>
                </div>
                <div id="routine-view" class="routine-view"></div>
            </div>
        </div>
    </div>
    
    <!-- ADD TO ROUTINE MODAL -->
    <div id="schedule-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add to Routine</h2>
                <button class="close-modal" onclick="closeModal()">√ó</button>
            </div>
            <h3 id="modal-task-name" style="color: #667eea; margin-bottom: 20px;"></h3>
            <p id="modal-frequency-text" style="margin-bottom: 20px;"></p>
            
            <div id="day-selection" class="modal-section" style="display: none;">
                <label>Choose which day:</label>
                <div class="day-selector">
                    <button class="day-btn" onclick="selectDay('Monday')">Monday</button>
                    <button class="day-btn" onclick="selectDay('Tuesday')">Tuesday</button>
                    <button class="day-btn" onclick="selectDay('Wednesday')">Wednesday</button>
                    <button class="day-btn" onclick="selectDay('Thursday')">Thursday</button>
                    <button class="day-btn" onclick="selectDay('Friday')">Friday</button>
                    <button class="day-btn" onclick="selectDay('Saturday')">Saturday</button>
                    <button class="day-btn" onclick="selectDay('Sunday')">Sunday</button>
                </div>
            </div>
            
            <div id="week-selection" class="modal-section" style="display: none;">
                <label>Choose which week:</label>
                <div class="week-selector">
                    <button class="day-btn" onclick="selectWeek(1)">Week 1</button>
                    <button class="day-btn" onclick="selectWeek(2)">Week 2</button>
                    <button class="day-btn" onclick="selectWeek(3)">Week 3</button>
                    <button class="day-btn" onclick="selectWeek(4)">Week 4</button>
                </div>
            </div>
            
            <button class="confirm-btn" onclick="confirmAddToRoutine()">Add to My Routine</button>
        </div>
    </div>
    
    <!-- CONFIRM CLEAR DATA MODAL -->
    <div id="confirm-clear-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Clear All Data?</h2>
                <button class="close-modal" onclick="closeClearModal()">√ó</button>
            </div>
            <p style="margin: 20px 0; font-size: 1.1em; color: #666;">Are you sure you want to clear all your routine data? This cannot be undone.</p>
            <div style="display: flex; gap: 10px; margin-top: 30px;">
                <button class="confirm-btn" onclick="clearAllData()" style="background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);">Yes, Clear Everything</button>
                <button class="confirm-btn" onclick="closeClearModal()" style="background: #6c757d;">Cancel</button>
            </div>
        </div>
    </div>

    <script>
        // 30 Pre-populated cleaning tasks
        const cleaningTasks = [
            {name: "Wash Dishes", room: "Kitchen", frequency: "daily", time: "15 mins", description: "Keep that sink empty and your flatmates happy"},
            {name: "Wipe Kitchen Surfaces", room: "Kitchen", frequency: "daily", time: "5 mins", description: "Quick wipe = no sticky surprises"},
            {name: "Take Out Bins", room: "Kitchen", frequency: "weekly", time: "5 mins", description: "Before they start smelling funky"},
            {name: "Clean Microwave", room: "Kitchen", frequency: "weekly", time: "10 mins", description: "Blast away those pasta explosion stains"},
            {name: "Mop Kitchen Floor", room: "Kitchen", frequency: "weekly", time: "15 mins", description: "So you can walk barefoot without regrets"},
            {name: "Clean Oven", room: "Kitchen", frequency: "monthly", time: "30 mins", description: "Deep clean that student chef masterpiece residue"},
            {name: "Defrost Freezer", room: "Kitchen", frequency: "monthly", time: "20 mins", description: "Stop the ice mountain from taking over"},
            {name: "Clean Fridge", room: "Kitchen", frequency: "monthly", time: "20 mins", description: "Say goodbye to mystery leftovers"},
            {name: "Clean Toilet", room: "Bathroom", frequency: "weekly", time: "10 mins", description: "Essential for human dignity"},
            {name: "Clean Shower/Bath", room: "Bathroom", frequency: "weekly", time: "15 mins", description: "No one likes shower mold vibes"},
            {name: "Clean Sink & Mirror", room: "Bathroom", frequency: "weekly", time: "10 mins", description: "For those Instagram-worthy selfies"},
            {name: "Mop Bathroom Floor", room: "Bathroom", frequency: "weekly", time: "10 mins", description: "Puddle-free zone achieved"},
            {name: "Empty Bathroom Bin", room: "Bathroom", frequency: "weekly", time: "2 mins", description: "Quick and painless task"},
            {name: "Descale Shower Head", room: "Bathroom", frequency: "monthly", time: "15 mins", description: "Restore that waterfall pressure"},
            {name: "Deep Clean Grout", room: "Bathroom", frequency: "monthly", time: "25 mins", description: "Make those tiles sparkle again"},
            {name: "Make Your Bed", room: "Bedroom", frequency: "daily", time: "2 mins", description: "Start your day like an adult"},
            {name: "Put Clothes Away", room: "Bedroom", frequency: "daily", time: "10 mins", description: "Floor ‚â† wardrobe (shocking, we know)"},
            {name: "Change Bed Sheets", room: "Bedroom", frequency: "weekly", time: "15 mins", description: "Fresh sheets = best sleep ever"},
            {name: "Vacuum Bedroom", room: "Bedroom", frequency: "weekly", time: "10 mins", description: "Dust bunnies must go"},
            {name: "Dust Surfaces", room: "Bedroom", frequency: "weekly", time: "10 mins", description: "Keep allergies at bay"},
            {name: "Wash Pillows", room: "Bedroom", frequency: "monthly", time: "5 mins", description: "They need love too (plus setup time)"},
            {name: "Clean Under Bed", room: "Bedroom", frequency: "monthly", time: "15 mins", description: "Face your fears and lost socks"},
            {name: "Organize Wardrobe", room: "Bedroom", frequency: "monthly", time: "30 mins", description: "Marie Kondo would be proud"},
            {name: "Tidy Living Room", room: "Living Room", frequency: "daily", time: "10 mins", description: "Quick reset before Netflix"},
            {name: "Vacuum Living Room", room: "Living Room", frequency: "weekly", time: "15 mins", description: "No more crisp crumbs on the sofa"},
            {name: "Dust TV & Shelves", room: "Living Room", frequency: "weekly", time: "10 mins", description: "See your screen clearly again"},
            {name: "Deep Clean Sofa", room: "Living Room", frequency: "monthly", time: "30 mins", description: "Remove all evidence of snack sessions"},
            {name: "Do Laundry (Clothes)", room: "General", frequency: "weekly", time: "20 mins", description: "Active time - plus drying/waiting"},
            {name: "Do Laundry (Towels)", room: "General", frequency: "weekly", time: "15 mins", description: "Fresh towels hit different"},
            {name: "Iron Clothes", room: "General", frequency: "weekly", time: "20 mins", description: "Look sharp for that presentation"}
        ];
        
        // State management
        let currentFilter = 'all';
        let currentRoutineView = 'today';
        let myRoutine = JSON.parse(localStorage.getItem('cleaningRoutine')) || [];
        let currentTaskToAdd = null;
        let selectedDay = null;
        let selectedWeek = null;
        
        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            renderJobCards();
            renderRoutineView();
        });
        
        // Tab switching
        function switchSubTab(tabName) {
            document.querySelectorAll('.sub-tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.querySelectorAll('.sub-tab-button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
            
            if (tabName === 'my-routine') {
                renderRoutineView();
            }
        }
        
        // Filter job cards by room
        function filterByRoom(room) {
            currentFilter = room;
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            renderJobCards();
        }
        
        // Render job cards
        function renderJobCards() {
            const grid = document.getElementById('jobs-grid');
            const filteredTasks = currentFilter === 'all' 
                ? cleaningTasks 
                : cleaningTasks.filter(task => task.room === currentFilter);
            
            grid.innerHTML = filteredTasks.map(task => `
                <div class="job-card">
                    <h3>${task.name}</h3>
                    <div class="job-meta">
                        <span class="job-tag room">${task.room}</span>
                        <span class="job-tag ${task.frequency}">${task.frequency}</span>
                        <span class="job-tag time">‚è±Ô∏è ${task.time}</span>
                    </div>
                    <p class="job-description">${task.description}</p>
                    <button class="add-btn" onclick='openScheduleModal(${JSON.stringify(task)})'>
                        Add to Routine
                    </button>
                </div>
            `).join('');
        }
        
        // Open schedule modal
        function openScheduleModal(task) {
            currentTaskToAdd = task;
            selectedDay = null;
            selectedWeek = null;
            
            document.getElementById('modal-task-name').textContent = task.name;
            document.getElementById('modal-frequency-text').textContent = 
                `This is a ${task.frequency} task. ${task.frequency === 'daily' ? 'It will be added to your daily routine.' : ''}`;
            
            document.getElementById('day-selection').style.display = 
                task.frequency === 'weekly' || task.frequency === 'monthly' ? 'block' : 'none';
            document.getElementById('week-selection').style.display = 
                task.frequency === 'monthly' ? 'block' : 'none';
            
            // Reset selections
            document.querySelectorAll('.day-btn').forEach(btn => btn.classList.remove('selected'));
            
            document.getElementById('schedule-modal').classList.add('active');
        }
        
        // Close modal
        function closeModal() {
            document.getElementById('schedule-modal').classList.remove('active');
        }
        
        // Select day
        function selectDay(day) {
            selectedDay = day;
            document.querySelectorAll('#day-selection .day-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            event.target.classList.add('selected');
        }
        
        // Select week
        function selectWeek(week) {
            selectedWeek = week;
            document.querySelectorAll('#week-selection .day-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            event.target.classList.add('selected');
        }
        
        // Confirm add to routine
        function confirmAddToRoutine() {
            if (!currentTaskToAdd) return;
            
            const task = currentTaskToAdd;
            
            // Validation
            if (task.frequency === 'weekly' && !selectedDay) {
                showBanner('Please select a day for this weekly task', 'error');
                return;
            }
            
            if (task.frequency === 'monthly' && (!selectedDay || !selectedWeek)) {
                showBanner('Please select both a day and week for this monthly task', 'error');
                return;
            }
            
            // Check for duplicates
            const duplicate = myRoutine.find(item => 
                item.name === task.name && 
                item.day === selectedDay && 
                item.week === selectedWeek
            );
            
            if (duplicate) {
                showBanner('This task is already in your routine!', 'error');
                return;
            }
            
            // Add to routine
            const routineItem = {
                ...task,
                id: Date.now(),
                day: selectedDay,
                week: selectedWeek,
                completed: false
            };
            
            myRoutine.push(routineItem);
            saveRoutine();
            closeModal();
            showBanner('Item added to Routine', 'success');
            renderRoutineView();
        }
        
        // Save routine to localStorage
        function saveRoutine() {
            localStorage.setItem('cleaningRoutine', JSON.stringify(myRoutine));
        }
        
        // Switch routine view
        function switchRoutineView(view) {
            currentRoutineView = view;
            document.querySelectorAll('.view-toggle .toggle-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            renderRoutineView();
        }
        
        // Render routine view
        function renderRoutineView() {
            const container = document.getElementById('routine-view');
            
            if (myRoutine.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">üìã</div>
                        <h3>Your routine is empty</h3>
                        <p>Add tasks from the Job Cards tab to get started!</p>
                    </div>
                `;
                return;
            }
            
            if (currentRoutineView === 'today') {
                renderTodayView(container);
            } else if (currentRoutineView === 'week') {
                renderWeekView(container);
            } else if (currentRoutineView === '4week') {
                render4WeekView(container);
            }
            
            checkAllTasksComplete();
        }
        
        // Render today view
        function renderTodayView(container) {
            const today = new Date().toLocaleDateString('en-US', { weekday: 'long' });
            const todayTasks = myRoutine.filter(task => 
                task.frequency === 'daily' || task.day === today
            );
            
            if (todayTasks.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">üéâ</div>
                        <h3>No tasks for today!</h3>
                        <p>Enjoy your free time or check other views.</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = `
                <div class="day-section">
                    <h3>Today's Tasks (${today})</h3>
                    <div class="task-list">
                        ${todayTasks.map(task => renderTaskItem(task)).join('')}
                    </div>
                </div>
            `;
        }
        
        // Render week view
        function renderWeekView(container) {
            const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];
            
            container.innerHTML = days.map(day => {
                const dayTasks = myRoutine.filter(task => 
                    task.frequency === 'daily' || task.day === day
                );
                
                return `
                    <div class="day-section">
                        <h3>${day}</h3>
                        <div class="task-list">
                            ${dayTasks.length > 0 
                                ? dayTasks.map(task => renderTaskItem(task)).join('') 
                                : '<p style="color: #999; text-align: center;">No tasks scheduled</p>'}
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        // Render 4-week view
        function render4WeekView(container) {
            const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];
            const weeks = [1, 2, 3, 4];
            
            container.innerHTML = weeks.map(week => `
                <div class="day-section">
                    <h3>Week ${week}</h3>
                    <div class="week-grid">
                        ${days.map(day => {
                            const dayTasks = myRoutine.filter(task => 
                                task.frequency === 'daily' || 
                                (task.day === day && (task.frequency === 'weekly' || task.week === week))
                            );
                            
                            return `
                                <div class="week-cell">
                                    <h4>${day}</h4>
                                    ${dayTasks.map(task => `
                                        <div class="week-task ${task.frequency}" style="background: ${getTaskColor(task.frequency)}; color: white; padding: 6px; border-radius: 6px; margin-bottom: 6px; font-size: 0.8em;">
                                            ${task.name}
                                        </div>
                                    `).join('')}
                                    ${dayTasks.length === 0 ? '<p style="color: #999; font-size: 0.8em; text-align: center;">-</p>' : ''}
                                </div>
                            `;
                        }).join('')}
                    </div>
                </div>
            `).join('');
        }
        
        // Render task item
        function renderTaskItem(task) {
            return `
                <div class="task-item ${task.frequency} ${task.completed ? 'completed' : ''}" data-id="${task.id}">
                    <input type="checkbox" 
                           class="task-checkbox" 
                           ${task.completed ? 'checked' : ''} 
                           onchange="toggleTaskComplete(${task.id})">
                    <div class="task-details">
                        <h4>${task.name}</h4>
                        <p>${task.room} ‚Ä¢ ${task.time}</p>
                    </div>
                    <button class="remove-btn" onclick="removeTask(${task.id})">Remove</button>
                </div>
            `;
        }
        
        // Get task color
        function getTaskColor(frequency) {
            const colors = {
                'daily': '#4fc3f7',
                'weekly': '#f06292',
                'monthly': '#4caf50'
            };
            return colors[frequency] || '#999';
        }
        
        // Toggle task complete
        function toggleTaskComplete(taskId) {
            const task = myRoutine.find(t => t.id === taskId);
            if (task) {
                task.completed = !task.completed;
                saveRoutine();
                renderRoutineView();
            }
        }
        
        // Remove task
        function removeTask(taskId) {
            myRoutine = myRoutine.filter(t => t.id !== taskId);
            saveRoutine();
            showBanner('Item deleted', 'success');
            renderRoutineView();
        }
        
        // Check if all tasks complete
        function checkAllTasksComplete() {
            if (currentRoutineView !== 'today') return;
            
            const today = new Date().toLocaleDateString('en-US', { weekday: 'long' });
            const todayTasks = myRoutine.filter(task => 
                task.frequency === 'daily' || task.day === today
            );
            
            if (todayTasks.length > 0 && todayTasks.every(task => task.completed)) {
                setTimeout(() => launchFireworks(), 500);
            }
        }
        
        // Launch fireworks
        function launchFireworks() {
            const container = document.getElementById('firework-container');
            container.classList.add('active');
            
            const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff', '#ffffff'];
            
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const firework = document.createElement('div');
                    firework.className = 'firework';
                    firework.style.background = colors[Math.floor(Math.random() * colors.length)];
                    
                    const angle = (Math.PI * 2 * i) / 50;
                    const distance = 100 + Math.random() * 200;
                    const x = Math.cos(angle) * distance;
                    const y = Math.sin(angle) * distance;
                    
                    firework.style.setProperty('--x', `${x}px`);
                    firework.style.setProperty('--y', `${y}px`);
                    
                    container.appendChild(firework);
                    
                    setTimeout(() => firework.remove(), 2000);
                }, i * 20);
            }
            
            showBanner('üéâ All tasks complete! Amazing work!', 'success');
            
            setTimeout(() => {
                container.classList.remove('active');
            }, 3000);
        }
        
        // Show banner
        function showBanner(message, type) {
            const banner = document.getElementById('banner');
            banner.textContent = message;
            banner.className = `banner ${type} show`;
            
            setTimeout(() => {
                banner.classList.remove('show');
            }, 3000);
        }
        
        // Print schedule
        function printSchedule() {
            window.print();
        }
        
        // Confirm clear data
        function confirmClearData() {
            document.getElementById('confirm-clear-modal').classList.add('active');
        }
        
        // Close clear modal
        function closeClearModal() {
            document.getElementById('confirm-clear-modal').classList.remove('active');
        }
        
        // Clear all data
        function clearAllData() {
            myRoutine = [];
            localStorage.removeItem('cleaningRoutine');
            closeClearModal();
            showBanner('All data cleared successfully', 'success');
            renderRoutineView();
        }
    </script>
</body>
</html>
